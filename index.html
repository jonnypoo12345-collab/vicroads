<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Permit QR Modal</title>

<style>
  body {
    font-family: 'Inter', sans-serif;
    margin: 0;
    padding: 0;
    background: #f8f8f8;
  }

  /* Overlay for background */
  .modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.5);
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease;
    z-index: 998;
  }

  .modal-overlay.active {
    opacity: 1;
    visibility: visible;
  }

  /* Slide-up modal */
  .slide-up-modal {
    position: fixed;
    bottom: -100%;
    left: 0;
    width: 100%;
    height: 100%;
    background: #fff;
    transition: bottom 0.5s ease-in-out;
    z-index: 999;
    padding: 20px;
    overflow-y: auto;
  }

  .slide-up-modal.active {
    bottom: 0;
  }

  /* Header */
  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }

  .modal-header h2 {
    margin: 0;
    font-size: 20px;
    font-weight: 700;
    text-align: center;
    flex: 1;
  }

  .close-btn {
    background: none;
    border: none;
    font-size: 18px;
    font-weight: 700;
    cursor: pointer;
  }

  /* QR image */
  .modal-qr {
    display: block;
    margin: 0 auto 15px auto;
    width: 200px;
    height: 200px;
    object-fit: contain;
  }

  /* Countdown */
  .countdown {
    text-align: center;
    font-weight: 700;
    font-size: 16px;
    margin-bottom: 15px;
  }

  /* Consent text */
  .consent-text {
    text-align: center;
    font-size: 14px;
    margin-bottom: 15px;
    line-height: 1.5;
  }

  .consent-text b {
    font-weight: 700;
  }

  /* Bullet list */
  .sharing-list {
    font-size: 14px;
    line-height: 1.5;
    padding-left: 20px;
    margin-bottom: 20px;
  }

  .sharing-list li {
    margin-bottom: 6px;
  }

  /* Example trigger button */
  .show-modal-btn {
    margin: 40px auto;
    display: block;
    padding: 12px 20px;
    background: #253544;
    color: #fff;
    border: none;
    border-radius: 8px;
    font-weight: 700;
    cursor: pointer;
  }
</style>
</head>
<body>

<!-- Trigger button -->
<button class="show-modal-btn" onclick="openModal()">Show QR Modal</button>

<!-- Overlay -->
<div class="modal-overlay" id="overlay" onclick="closeModal()"></div>

<!-- Slide-up Modal -->
<div class="slide-up-modal" id="modal">
  <div class="modal-header">
    <div></div> <!-- empty space for center alignment -->
    <h2>Verify Permit</h2>
    <button class="close-btn" onclick="closeModal()">X</button>
  </div>

  <img src="QRCode.png" alt="QR Code" class="modal-qr">

  <div class="countdown" id="countdown">QR expires in 01:59</div>

  <div class="consent-text">
    By presenting this QR code you <b>consent</b> to share some or all of your driver licence information, including with scanners, venues and law enforcement agencies. This may retain your information in accordance with their business practise and legal requirements.
  </div>

  <div class="consent-text"><b>You're sharing:</b></div>
  <ul class="sharing-list">
    <li>Victorian driver licence photo</li>
    <li>Full name, birth date and address</li>
    <li>Licence number, type and expiry date</li>
    <li>Licence status</li>
    <li>Proficiency</li>
  </ul>
</div>

<script>
  // Modal functions
  const modal = document.getElementById('modal');
  const overlay = document.getElementById('overlay');

  function openModal() {
    modal.classList.add('active');
    overlay.classList.add('active');
    startCountdown(119); // 1:59 countdown
  }

  function closeModal() {
    modal.classList.remove('active');
    overlay.classList.remove('active');
    stopCountdown();
  }

  // Countdown timer
  let countdownInterval;
  function startCountdown(seconds) {
    const countdownEl = document.getElementById('countdown');
    let remaining = seconds;

    countdownInterval = setInterval(() => {
      const mins = Math.floor(remaining / 60);
      const secs = remaining % 60;
      countdownEl.textContent = `QR expires in ${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
      remaining--;
      if (remaining < 0) {
        clearInterval(countdownInterval);
        countdownEl.textContent = 'QR expired';
      }
    }, 1000);
  }

  function stopCountdown() {
    clearInterval(countdownInterval);
  }
</script>

</body>
</html>


